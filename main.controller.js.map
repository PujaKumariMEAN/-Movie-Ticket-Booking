{"version":3,"sources":["app/main/main.controller.js"],"names":["MainController","$http","$scope","socket","awesomeThings","mappingDetail","$on","unsyncUpdates","get","then","response","data","console","log","syncUpdates","movies","sessionStorage","setItem","Mvname","newThing","post","name","thing","delete","_id","angular","module","component","templateUrl","controller"],"mappings":"AAAA;;;;;;AAEA,CAAC,YAAW;AAAA,MAEJA,cAFI;AAIR,4BAAYC,KAAZ,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmC;AAAA;;AACjC,WAAKF,KAAL,GAAaA,KAAb;AACA,WAAKE,MAAL,GAAcA,MAAd;AACA,WAAKC,aAAL,GAAqB,EAArB;AACA;AACA,WAAKC,aAAL,GAAmB,EAAnB;;AAEAH,aAAOI,GAAP,CAAW,UAAX,EAAuB,YAAW;AAChCH,eAAOI,aAAP,CAAqB,OAArB;AACD,OAFD;AAGD;;AAdO;AAAA;AAAA,gCAgBE;AAAA;;AACR;AACA;AACA;AACA;AACI,aAAKN,KAAL,CAAWO,GAAX,CAAe,uBAAf,EAAwCC,IAAxC,CAA6C,oBAAY;AACvD,gBAAKJ,aAAL,GAAqBK,SAASC,IAA9B;AACAC,kBAAQC,GAAR,CAAY,MAAKR,aAAjB;AACA,gBAAKF,MAAL,CAAYW,WAAZ,CAAwB,iBAAxB,EAA2C,MAAKT,aAAhD;AACD,SAJD;AAKJ,aAAKJ,KAAL,CAAWO,GAAX,CAAe,aAAf,EACGC,IADH,CACQ,oBAAY;AAChB,gBAAKL,aAAL,GAAqBM,SAASC,IAA9B;AACA,gBAAKR,MAAL,CAAYW,WAAZ,CAAwB,OAAxB,EAAiC,MAAKV,aAAtC;AACD,SAJH;AAKG;AA/BG;AAAA;AAAA,8BAiCIW,MAjCJ,EAiCW;AACbC,uBAAeC,OAAf,CAAuB,WAAvB,EAAoCF,OAAOG,MAA3C;AACD;AAnCG;AAAA;AAAA,iCAqCG;AACT,YAAI,KAAKC,QAAT,EAAmB;AACjB,eAAKlB,KAAL,CAAWmB,IAAX,CAAgB,aAAhB,EAA+B;AAC7BC,kBAAM,KAAKF;AADkB,WAA/B;AAGA,eAAKA,QAAL,GAAgB,EAAhB;AACD;AACF;AA5CO;AAAA;AAAA,kCA8CIG,KA9CJ,EA8CW;AACjB,aAAKrB,KAAL,CAAWsB,MAAX,CAAkB,iBAAiBD,MAAME,GAAzC;AACD;AAhDO;;AAAA;AAAA;;AAmDVC,UAAQC,MAAR,CAAe,8BAAf,EACGC,SADH,CACa,MADb,EACqB;AACjBC,iBAAa,oBADI;AAEjBC,gBAAY7B;AAFK,GADrB;AAKD,CAxDD","file":"main.controller.js","sourcesContent":["'use strict';\n\n(function() {\n\n  class MainController {\n\n    constructor($http, $scope, socket) {\n      this.$http = $http;\n      this.socket = socket;\n      this.awesomeThings = [];\n      //this.MovieData = [];\n      this.mappingDetail=[];\n\n      $scope.$on('$destroy', function() {\n        socket.unsyncUpdates('thing');\n      });\n    }\n\n    $onInit() {\n      // this.$http.get('/api/searchMoviesendpoints').then(response => {\n      //     this.MovieData = response.data;\n      //     this.socket.syncUpdates('searchMoviesendpoints', this.MovieData);\n      //     });\n          this.$http.get('/api/mappingendpoints').then(response => {\n            this.mappingDetail = response.data;\n            console.log(this.mappingDetail);\n            this.socket.syncUpdates('mappingendpoint', this.mappingDetail);\n          });\n      this.$http.get('/api/things')\n        .then(response => {\n          this.awesomeThings = response.data;\n          this.socket.syncUpdates('thing', this.awesomeThings);\n        });\n        }\n\n        setData(movies){\n          sessionStorage.setItem('MovieData', movies.Mvname);\n        }\n\n    addThing() {\n      if (this.newThing) {\n        this.$http.post('/api/things', {\n          name: this.newThing\n        });\n        this.newThing = '';\n      }\n    }\n\n    deleteThing(thing) {\n      this.$http.delete('/api/things/' + thing._id);\n    }\n  }\n\n  angular.module('yeomanOnlineTicketBookingApp')\n    .component('main', {\n      templateUrl: 'app/main/main.html',\n      controller: MainController\n    });\n})();\n"]}