{"version":3,"sources":["app/user/user.controller.js"],"names":["UserComponent","$http","$scope","socket","mappingDetail","bookingDetail","k","$on","unsyncUpdates","submitForm","isValid","alert","get","then","response","data","console","log","syncUpdates","sessionStorage","getItem","mdetails","setItem","Cname","ShowDate","Lname","Thname","ShowTime","sdetails","Seats","Nseat","Amount","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"AAAA;;;;;;AAEA,CAAC,YAAU;AAAA,MAELA,aAFK;AAIT,2BAAYC,KAAZ,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmC;AAAA;;AACjC,WAAKF,KAAL,GAAaA,KAAb;AACA,WAAKE,MAAL,GAAcA,MAAd;AACA,WAAKC,aAAL,GAAqB,EAArB;AACA,WAAKC,aAAL,GAAqB,EAArB;AACA,WAAKC,CAAL,GAAO,EAAP;;AAGAJ,aAAOK,GAAP,CAAW,UAAX,EAAuB,YAAU;AAC/BJ,eAAOK,aAAP,CAAqB,cAArB;AACD,OAFD;;AAIAN,aAAOO,UAAP,GAAoB,UAASC,OAAT,EAAiB;AACnC,YAAGA,OAAH,EAAW;AACTC,gBAAM,iBAAN;AACD;AACF,OAJD;AAKD;;AArBQ;AAAA;AAAA,gCAuBD;AAAA;;AACR,aAAKV,KAAL,CAAWW,GAAX,CAAe,uBAAf,EAAwCC,IAAxC,CAA6C,oBAAY;AACvD,gBAAKT,aAAL,GAAqBU,SAASC,IAA9B;AACAC,kBAAQC,GAAR,CAAY,MAAKb,aAAjB;AACA,gBAAKD,MAAL,CAAYe,WAAZ,CAAwB,iBAAxB,EAA2C,MAAKd,aAAhD;AACD,SAJD;AAKA,aAAKH,KAAL,CAAWW,GAAX,CAAe,oBAAf,EAAqCC,IAArC,CAA0C,oBAAY;AACpD,gBAAKR,aAAL,GAAqBS,SAASC,IAA9B;AACA,gBAAKZ,MAAL,CAAYe,WAAZ,CAAwB,cAAxB,EAAwC,MAAKb,aAA7C;AACD,SAHD;AAIE,aAAKC,CAAL,GAASa,eAAeC,OAAf,CAAuB,WAAvB,CAAT;AACA;AACH;AAnCU;AAAA;AAAA,iCAqCAC,QArCA,EAqCS;AAClBF,uBAAeG,OAAf,CAAuB,SAAvB,EAAiCD,SAASf,CAA1C;AACAK,cAAM,SAAN;AACAQ,uBAAeG,OAAf,CAAuB,SAAvB,EAAiCD,SAASE,KAA1C;AACAJ,uBAAeG,OAAf,CAAuB,UAAvB,EAAkCD,SAASG,QAA3C;AACAL,uBAAeG,OAAf,CAAuB,SAAvB,EAAiCD,SAASI,KAA1C;AACAN,uBAAeG,OAAf,CAAuB,SAAvB,EAAiCD,SAASK,MAA1C;AACAP,uBAAeG,OAAf,CAAuB,UAAvB,EAAkCD,SAASM,QAA3C;AACD;AA7CU;AAAA;AAAA,qCA+CIC,QA/CJ,EA+Ca;AACtBT,uBAAeG,OAAf,CAAuB,YAAvB,EAAoCM,SAASC,KAA7C;AACAV,uBAAeG,OAAf,CAAuB,aAAvB,EAAqCM,SAASE,KAA9C;AACAX,uBAAeG,OAAf,CAAuB,cAAvB,EAAsCM,SAASG,MAA/C;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA5DW;;AAAA;AAAA;;AA+DXC,UAAQC,MAAR,CAAe,8BAAf,EACGC,SADH,CACa,MADb,EACqB;AACjBC,iBAAa,oBADI;AAEjBC,gBAAYpC,aAFK;AAGjBqC,kBAAc;AAHG,GADrB;AAOC,CAtED","file":"user.controller.js","sourcesContent":["'use strict';\n\n(function(){\n\nclass UserComponent {\n\n  constructor($http, $scope, socket) {\n    this.$http = $http;\n    this.socket = socket;\n    this.mappingDetail = [];\n    this.bookingDetail = [];\n    this.k=[];\n\n\n    $scope.$on('$destroy', function(){\n      socket.unsyncUpdates('userendpoint');\n    });\n\n    $scope.submitForm = function(isValid){\n      if(isValid){\n        alert('Detail is Valid');\n      }\n    };\n  }\n\n$onInit() {\n  this.$http.get('/api/mappingendpoints').then(response => {\n    this.mappingDetail = response.data;\n    console.log(this.mappingDetail);\n    this.socket.syncUpdates('mappingendpoint', this.mappingDetail);\n  });\n  this.$http.get('/api/userendpoints').then(response => {\n    this.bookingDetail = response.data;\n    this.socket.syncUpdates('userendpoint', this.bookingDetail);\n  });\n    this.k = sessionStorage.getItem('MovieData');\n    // alert(this.k);\n}\n\nsetDetails(mdetails){\n  sessionStorage.setItem('mdetail',mdetails.k);\n  alert('mdetail');\n  sessionStorage.setItem('cdetail',mdetails.Cname);\n  sessionStorage.setItem('sddetail',mdetails.ShowDate);\n  sessionStorage.setItem('ldetail',mdetails.Lname);\n  sessionStorage.setItem('tdetail',mdetails.Thname);\n  sessionStorage.setItem('stdetail',mdetails.ShowTime);\n}\n\nbookingDetails(sdetails){\n  sessionStorage.setItem('seatdetail',sdetails.Seats);\n  sessionStorage.setItem('nseatdetail',sdetails.Nseat);\n  sessionStorage.setItem('amountdetail',sdetails.Amount);\n}\n\n// seatDetails() {\n//   this.$http.post('/api/userendpoints', {\n//     SelectedSeat: this.bookingDetail,\n//     Class: this.bookingDetail,\n//     SeatNo: this.bookingDetail,\n//     Amount: this.bookingDetail\n//   });\n// }\n}\n\nangular.module('yeomanOnlineTicketBookingApp')\n  .component('user', {\n    templateUrl: 'app/user/user.html',\n    controller: UserComponent,\n    controllerAs: 'userCtrl'\n  });\n\n})();\n"]}