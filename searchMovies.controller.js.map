{"version":3,"sources":["app/searchMovies/searchMovies.controller.js"],"names":["SearchMoviesComponent","$http","$scope","socket","MovieData","Movies","$on","unsyncUpdates","get","then","response","data","syncUpdates","MovieName","Year","console","log","results","id","MovieID","movieres","post","poster_path","title","release_date","genres","genre_ids","runtime","alert","searchMovies","delete","_id","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"AAAA;;;;;;AAEA,CAAC,YAAU;AAAA,MAELA,qBAFK;AAGT,mCAAYC,KAAZ,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmC;AAAA;;AACjC,WAAKF,KAAL,GAAaA,KAAb;AACA,WAAKE,MAAL,GAAcA,MAAd;AACA,WAAKC,SAAL;AACA,WAAKC,MAAL,GAAY,EAAZ;;AAEAH,aAAOI,GAAP,CAAW,UAAX,EAAuB,YAAW;AAChCH,eAAOI,aAAP,CAAqB,uBAArB;AACD,OAFD;AAGD;;AAZQ;AAAA;AAAA,gCAcA;AAAA;;AACP,aAAKN,KAAL,CAAWO,GAAX,CAAe,4BAAf,EAA6CC,IAA7C,CAAkD,oBAAY;AAC1D,gBAAKJ,MAAL,GAAcK,SAASC,IAAvB;AACA,gBAAKR,MAAL,CAAYS,WAAZ,CAAwB,uBAAxB,EAAiD,MAAKP,MAAtD;AACC,SAHL;AAIG;AAnBI;AAAA;AAAA,kCAsBC;AAAA;;AACV,aAAKJ,KAAL,CAAWO,GAAX,CAAe,8FAA4F,KAAKK,SAAjG,GAA2G,QAA3G,GAAoH,KAAKC,IAAxI,EAA8IL,IAA9I,CAAmJ,oBAAY;AAC9JM,kBAAQC,GAAR,CAAYN,SAASC,IAAT,CAAcM,OAAd,CAAsB,CAAtB,EAAyBC,EAArC;AACC,cAAIC,UAAUT,SAASC,IAAT,CAAcM,OAAd,CAAsB,CAAtB,EAAyBC,EAAvC;AACA,iBAAKjB,KAAL,CAAWO,GAAX,CAAe,wCAAsCW,OAAtC,GAA8C,2CAA7D,EAA0GV,IAA1G,CAA+G,oBAAW;AACxH,mBAAKL,SAAL,GAAiBgB,SAAST,IAA1B;AACAI,oBAAQC,GAAR,CAAY,OAAKZ,SAAjB;AACD,WAHD;AAID,SAPD;AAQD;AA/BU;AAAA;AAAA,iCAkCD;AACV,aAAKH,KAAL,CAAWoB,IAAX,CAAgB,2BAAhB,EAA4C;AAC1CC,uBAAa,KAAKlB,SAAL,CAAekB,WADc;AAE1CC,iBAAO,KAAKnB,SAAL,CAAemB,KAFoB;AAG1CC,wBAAc,KAAKpB,SAAL,CAAeoB,YAHa;AAI1CC,kBAAQ,KAAKrB,SAAL,CAAesB,SAJmB;AAK1CC,mBAAS,KAAKvB,SAAL,CAAeuB;AALkB,SAA5C;AAOC,aAAKd,SAAL,GAAiB,EAAjB;AACA,aAAKC,IAAL,GAAY,EAAZ;AACAc,cAAM,2BAAN;AACA;AA7CU;AAAA;AAAA,kCA+CCC,YA/CD,EA+Ce;AACxBD,cAAM,gBAAN;AACA,aAAK3B,KAAL,CAAW6B,MAAX,CAAkB,gCAA8BD,aAAaE,GAA7D;AACD;AAlDU;;AAAA;AAAA;;AAsDXC,UAAQC,MAAR,CAAe,8BAAf,EACGC,SADH,CACa,cADb,EAC6B;AACzBC,iBAAa,oCADY;AAEzBC,gBAAYpC,qBAFa;AAGzBqC,kBAAc;AAHW,GAD7B;AAOC,CA7DD","file":"searchMovies.controller.js","sourcesContent":["'use strict';\n\n(function(){\n\nclass SearchMoviesComponent {\n  constructor($http, $scope, socket) {\n    this.$http = $http;\n    this.socket = socket;\n    this.MovieData;\n    this.Movies=[];\n\n    $scope.$on('$destroy', function() {\n      socket.unsyncUpdates('searchMoviesendpoints');\n    });\n  }\n\n  $onInit(){\n    this.$http.get('/api/searchMoviesendpoints').then(response => {\n        this.Movies = response.data;\n        this.socket.syncUpdates('searchMoviesendpoints', this.Movies);\n        });\n      }\n\n\nFindMovie() {\n  this.$http.get('https://api.themoviedb.org/3/search/movie?api_key=7db1e9349d07052bfc8c37d7f6bcc8e9&query='+this.MovieName+'&year='+this.Year).then(response => {\n   console.log(response.data.results[0].id);\n    var MovieID = response.data.results[0].id;\n    this.$http.get('https://api.themoviedb.org/3/movie/'+MovieID+'?api_key=7db1e9349d07052bfc8c37d7f6bcc8e9').then(movieres =>{\n      this.MovieData = movieres.data;\n      console.log(this.MovieData);\n    });\n  });\n}\n\n\nAddMovie(){\nthis.$http.post('api/searchMoviesendpoints',{\n  poster_path: this.MovieData.poster_path,\n  title: this.MovieData.title,\n  release_date: this.MovieData.release_date,\n  genres: this.MovieData.genre_ids,\n  runtime: this.MovieData.runtime\n});\n this.MovieName = '';\n this.Year = '';\n alert('Record Added Successfully');\n}\n\nDeleteMovie(searchMovies) {\n  alert('Record Deleted');\n  this.$http.delete('/api/searchMoviesendpoints/'+searchMovies._id );\n}\n\n}\n\nangular.module('yeomanOnlineTicketBookingApp')\n  .component('searchMovies', {\n    templateUrl: 'app/searchMovies/searchMovies.html',\n    controller: SearchMoviesComponent,\n    controllerAs: 'searchMoviesCtrl'\n  });\n\n})();\n"]}